<html>
  <head>
    <title>Pong Js Game</title>
  </head>
  <body>
    <canvas id="gameCanvas" width="800px" height="600px"></canvas>
  </body>
  <script>
    var canvas;
    var canvasContext;
    var ballX = 50;
    var ballY = 50;
    var framesPerSecond = 30;
    var ballSpeedX = 5;
    var ballSpeedY = 4;

    var paddle1Y = 250;
    const paddleHeigth = 100;

    function mousePosition(evt){
      var rect = canvas.getBoudingClientRect();
      var root = document.documentElement;
      var mouseX = evt.clientX - rect.left - root.scrollLeft;
      var mouseY = evt.clientY - rect.top - root.scrollTop;
      return{
        x:mouseX,
        y:mouseY
      }
    }

    window.onload = function(){
      canvas = document.getElementById('gameCanvas');
      canvasContext = canvas.getContext('2d');
      setInterval(function(){
          drawEverything();
          moveEverything();
      }, 1000/framesPerSecond );
      canvas.addEventListener('mousemove',
        function(evt){
          var mousePos = mousePosition(evt);
          paddle1Y = mousePos.y;
        }
      )
    }


    function drawEverything(){
      console.log(ballX, ballY);

      //line clears screen with black
      colorRect(0,0, canvas.width, canvas.height, "black");

      //white paddle not done yet
      colorRect(0, paddle1Y, 10, 100, "white");

      //the moving ball
      colorCircle(ballX, ballY, 10, "white");
    }

    function colorCircle(centerX, centerY, radius, drawColor){
      canvasContext.fillStyle = drawColor;
      canvasContext.beginPath();
      canvasContext.arc(centerX, centerY, radius, 0, Math.PI*2, true);
      canvasContext.fill();
    }

    function colorRect(leftX, topY, width, height, drawColor){

      canvasContext.fillStyle = drawColor;
      canvasContext.fillRect(leftX,topY, width, height);
    }

    function moveEverything(){
      ballX += ballSpeedX;
      ballY += ballSpeedY
      if(ballX <= 0){
        ballSpeedX = -ballSpeedX;
      }
      if(ballX >= canvas.width){
        ballSpeedX = -ballSpeedX;
      }
      if(ballY <= 0){
        ballSpeedY = -ballSpeedY;
      }
      if(ballY >= canvas.height){
        ballSpeedY = -ballSpeedY;
      }
    }


  </script>
  <script src="script.js"></script>
</html>
